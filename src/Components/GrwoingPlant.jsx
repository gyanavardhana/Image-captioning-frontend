import { useState } from 'react';

const GrowingPlant = () => {
    const [growthStage, setGrowthStage] = useState(0);
    const maxStages = 3; // Now only 3 stages: soil, full plant, extra leaves

    const handleClick = () => {
        setGrowthStage((prevStage) =>
            prevStage < maxStages ? prevStage + 1 : 0
        );
    };

    // Calculate opacity for each element based on growth stage
    const getSoilOpacity = () => growthStage >= 1 ? 1 : 0;
    const getFullPlantOpacity = () => growthStage >= 2 ? 1 : 0;
    const getTallerPlantOpacity = () => growthStage >= 3 ? 1 : 0;

    // Calculate scale for growth effect
    const getFullPlantScale = () => {
        if (growthStage < 2) return 0;
        return 1;
    };

    const getTallerPlantScale = () => {
        if (growthStage < 3) return 0;
        return 1;
    };

    return (
        <div className="flex flex-col items-center justify-center h-screen bg-blue-50">
            <div className="mb-8 text-center">
                <h1 className="text-2xl font-bold text-green-700 mb-2">Growing Plant Animation</h1>
                <p className="text-gray-600">Click on the plant area to watch it grow! (Stage: {growthStage}/{maxStages})</p>
            </div>

            <div
                className="relative w-64 h-64 cursor-pointer bg-gray-100 rounded-lg flex items-center justify-center"
                onClick={handleClick}
            >
                <svg width="112" height="220" viewBox="0 0 113 114" className="transform scale-90" fill="none" xmlns="http://www.w3.org/2000/svg">
                    {/* Soil - Stage 1 */}
                    <g style={{ opacity: getSoilOpacity(), transition: 'opacity 0.5s ease-in-out' }}>
                        <path d="M6.59935 113.848C3.15599 113.848 0.363281 111.055 0.363281 107.612C0.363281 104.168 3.15599 101.375 6.59935 101.375C6.63732 101.375 6.67528 101.378 6.7159 101.378C7.74086 98.2302 10.6989 95.9528 14.1912 95.9528C14.2291 95.9528 14.2671 95.9554 14.3077 95.9554C15.1861 93.5803 17.4745 91.8856 20.1562 91.8856C21.2462 91.8856 22.2738 92.1675 23.1658 92.6583C24.2667 91.9968 25.5544 91.6145 26.9346 91.6145C27.2436 91.6145 27.5473 91.6363 27.8457 91.6742C29.2638 89.6761 31.5901 88.3718 34.2256 88.3609C34.8818 87.2277 36.1046 86.4629 37.5092 86.4629C38.3063 86.4629 39.0438 86.7095 39.6539 87.1271C41.2862 85.3838 43.6069 84.2938 46.1856 84.2938C46.728 84.2938 47.2565 84.3453 47.7745 84.4374C49.7023 81.8807 52.766 80.2266 56.2176 80.2266C59.6692 80.2266 62.733 81.8804 64.6608 84.4374C65.1787 84.3453 65.7073 84.2938 66.2496 84.2938C68.8281 84.2938 71.149 85.3838 72.7814 87.1271C73.3914 86.7095 74.1289 86.4629 74.9261 86.4629C76.3307 86.4629 77.5534 87.2274 78.2096 88.3609C80.8452 88.3718 83.1714 89.6761 84.5896 91.6742C84.8877 91.6363 85.1914 91.6145 85.5006 91.6145C86.8808 91.6145 88.1686 91.9968 89.2695 92.6583C90.1614 92.1675 91.1891 91.8856 92.2791 91.8856C94.9605 91.8856 97.2491 93.5803 98.1275 95.9554C98.1682 95.9554 98.2061 95.9528 98.2441 95.9528C101.736 95.9528 104.694 98.2302 105.719 101.378C105.76 101.378 105.798 101.375 105.836 101.375C109.279 101.375 112.072 104.168 112.072 107.612C112.072 111.055 109.279 113.848 105.835 113.848H6.59935Z" fill="#5E3430" />
                        <path d="M18.2578 100.067C18.2578 100.067 22.6101 100.309 23.5773 95.7148C23.5773 95.7148 23.9254 97.6869 23.2646 99.1611C22.5864 100.674 20.866 101.67 18.2578 100.067Z" fill="#492523" />
                        <path d="M94.5488 101.278C94.5488 101.278 88.9861 101.587 87.75 95.7148C87.75 95.7148 87.3049 98.2355 88.1495 100.12C89.0161 102.053 91.2149 103.326 94.5488 101.278Z" fill="#492523" />
                        <path d="M54.0175 108.391C54.0175 108.391 48.4548 108.7 47.2188 102.828C47.2188 102.828 46.7736 105.349 47.6182 107.233C48.4848 109.167 50.6837 110.44 54.0175 108.391Z" fill="#492523" />
                        <path d="M46.2109 94.1408C46.2109 94.1408 51.7736 94.4498 53.0097 88.5781C53.0097 88.5781 53.4548 91.0988 52.6102 92.9829C51.7434 94.9167 49.5445 96.1895 46.2109 94.1408Z" fill="#492523" />
                        <path d="M81.6116 98.1998C79.9964 99.1936 78.6593 99.3774 77.6196 99.08C77.0659 99.6627 76.3211 100.001 75.5329 100.127C73.5647 100.441 71.3281 99.3943 71.3281 99.3943C73.468 99.5128 74.9671 98.8696 76.0068 98.0088C75.7771 97.7308 75.5861 97.4164 75.4362 97.0827C74.6213 95.2645 75.0493 92.832 75.0493 92.832C75.4386 94.6745 76.2679 95.8859 77.2109 96.6814C77.6099 97.0199 78.0306 97.281 78.4441 97.4865C80.0641 98.2845 81.6116 98.1998 81.6116 98.1998Z" fill="#492523" />
                        <path d="M30.9062 96.317C32.5214 97.3108 33.8585 97.4945 34.8982 97.1971C35.452 97.7799 36.1967 98.1184 36.9849 98.2441C38.9531 98.5584 41.1897 97.5115 41.1897 97.5115C39.0498 97.6299 37.5507 96.9868 36.511 96.126C36.7407 95.8479 36.9317 95.5336 37.0816 95.1999C37.8965 93.3816 37.4685 90.9492 37.4685 90.9492C37.0792 92.7917 36.2499 94.0031 35.3069 94.7986C34.9079 95.1371 34.4872 95.3982 34.0737 95.6037C32.4537 96.4016 30.9062 96.317 30.9062 96.317Z" fill="#492523" />
                        <path d="M12.1914 113.848C21.0826 113.848 23.6652 109.016 23.6652 109.016C23.6652 109.016 25.5821 113.848 36.6158 113.848H12.1914Z" fill="#492523" />
                        <path d="M81.75 113.848C90.6412 113.848 93.2238 109.016 93.2238 109.016C93.2238 109.016 94.2466 113.848 105.28 113.848H81.75Z" fill="#492523" />
                    </g>

                    {/* Full Plant (Stem + Left Leaf + Right Leaf) - Stage 2 */}
                    <g style={{
                        opacity: getFullPlantOpacity(),
                        transition: 'opacity 0.5s ease-in-out, transform 0.5s ease-in-out',
                        transformOrigin: 'center bottom',
                        transform: `scale(${getFullPlantScale()})`
                    }}>
                        {/* Stem */}
                        <path d="M56.2157 85.2183C55.6523 85.2183 55.1953 84.7613 55.1953 84.198V50.6086C55.1953 37.6802 62.3323 25.9653 73.8206 20.0356C74.3218 19.7774 74.9367 19.9737 75.1952 20.4742C75.4537 20.975 75.2573 21.5903 74.7566 21.8488C63.9494 27.4267 57.2358 38.4467 57.2358 50.6084V84.1982C57.236 84.7616 56.7791 85.2183 56.2157 85.2183Z" fill="#8BBC4A" />
                        <path d="M56.2186 63.9686C55.6553 63.9686 55.1983 63.5116 55.1983 62.9482C55.1983 50.7865 48.4847 39.7663 37.6775 34.1887C37.1767 33.9302 36.9804 33.3148 37.2389 32.8141C37.4974 32.3136 38.1122 32.1172 38.6135 32.3755C50.1018 38.3052 57.2388 50.0198 57.2388 62.9484C57.239 63.5118 56.782 63.9686 56.2186 63.9686Z" fill="#8BBC4A" />

                        {/* Left Leaf */}
                        <path d="M2.53906 16.1247C13.1194 24.6801 11.4208 34.6656 22.9829 44.3412C29.9054 50.137 38.586 48.51 43.9199 41.2269C44.6709 40.2015 45.3206 39.1141 45.8642 37.9796C46.1601 37.3681 46.4259 36.7443 46.6558 36.1118C49.0389 29.5892 48.0033 22.1565 42.3014 17.9764C27.2909 6.98111 2.53906 16.1247 2.53906 16.1247Z" fill="#9CD83D" />
                        <path d="M42.8678 36.2619C42.8678 36.2619 44.3314 27.566 41.3182 23.6055C41.3182 23.6055 42.9542 30.9238 40.3711 34.1955L42.8678 36.2619Z" fill="#98C939" />
                        <path d="M38.3354 32.2192C38.3354 32.2192 39.0357 23.4288 35.6883 19.7461C35.6883 19.7461 37.9558 26.894 35.668 30.3784L38.3354 32.2192Z" fill="#98C939" />
                        <path d="M33.1014 29.4831C33.1014 29.4831 32.1217 20.7196 28.1367 17.7383C28.1367 17.7383 31.7189 24.3264 30.1332 28.1815L33.1014 29.4831Z" fill="#98C939" />
                        <path d="M42.7853 36.2308C42.7853 36.2308 35.8219 41.6414 30.9062 40.8653C30.9062 40.8653 38.1257 38.8369 39.7822 35.0117L42.7853 36.2308Z" fill="#98C939" />
                        <path d="M38.1439 33.0855C38.1439 33.0855 30.7356 37.8687 25.9062 36.667C25.9062 36.667 33.2749 35.2757 35.2588 31.6094L38.1439 33.0855Z" fill="#98C939" />
                        <path d="M32.6558 29.9889C32.6558 29.9889 24.4747 33.28 19.9609 31.1841C19.9609 31.1841 27.4599 31.2155 30.1029 27.9922L32.6558 29.9889Z" fill="#98C939" />
                        <path d="M26.3083 24.9938C26.3083 24.9938 25.5483 18.1953 22.457 15.8828C22.457 15.8828 25.2357 20.9936 24.0057 23.9841L26.3083 24.9938Z" fill="#98C939" />
                        <path d="M25.9613 25.3927C25.9613 25.3927 19.6147 27.9458 16.1133 26.3199C16.1133 26.3199 21.9306 26.3444 23.981 23.8438L25.9613 25.3927Z" fill="#98C939" />
                        <path d="M19.3194 22.2574C19.3194 22.2574 18.7708 17.3493 16.5391 15.6797C16.5391 15.6797 18.5452 19.3694 17.6571 21.5284L19.3194 22.2574Z" fill="#98C939" />
                        <path d="M19.0667 22.5438C19.0667 22.5438 14.485 24.387 11.957 23.2134C11.957 23.2134 16.1567 23.231 17.637 21.4258L19.0667 22.5438Z" fill="#98C939" />
                        <path d="M13.1211 20.1429C23.1913 24.2949 39.3834 34.4168 45.0796 39.4541C45.3622 38.9732 45.6217 38.4804 45.8637 37.9792C45.9278 37.8481 45.9889 37.7139 46.0504 37.5826C43.5727 35.1166 26.307 23.6061 13.4623 19.3703C12.9755 19.2098 12.6472 19.9475 13.1211 20.1429Z" fill="#8BBC4A" />

                        {/* Right Leaf */}
                        <path d="M109.893 3.77708C99.3123 12.3324 101.011 22.318 89.4489 31.9936C82.5264 37.7896 73.8458 36.1623 68.5116 28.8793C67.7606 27.8538 67.1109 26.7665 66.5673 25.632C66.2714 25.0205 66.0056 24.3967 65.7757 23.7641C63.3926 17.2415 64.4282 9.80884 70.1301 5.62873C85.1409 -5.36655 109.893 3.77708 109.893 3.77708Z" fill="#9CD83D" />
                        <path d="M69.5663 23.9142C69.5663 23.9142 68.1027 15.2184 71.1162 11.2578C71.1162 11.2578 69.4802 18.5762 72.0633 21.8478L69.5663 23.9142Z" fill="#98C939" />
                        <path d="M74.0961 19.8716C74.0961 19.8716 73.3958 11.0812 76.7432 7.39844C76.7432 7.39844 74.4757 14.5463 76.7635 18.0308L74.0961 19.8716Z" fill="#98C939" />
                        <path d="M79.3281 17.1355C79.3281 17.1355 80.3079 8.37193 84.2929 5.39062C84.2929 5.39062 80.7107 11.9787 82.2964 15.8339L79.3281 17.1355Z" fill="#98C939" />
                        <path d="M69.6484 23.8832C69.6484 23.8832 76.6118 29.2938 81.5275 28.5176C81.5275 28.5176 74.308 26.4892 72.6515 22.6641L69.6484 23.8832Z" fill="#98C939" />
                        <path d="M74.2852 20.7379C74.2852 20.7379 81.6934 25.521 86.5228 24.3193C86.5228 24.3193 79.1541 22.928 77.1702 19.2617L74.2852 20.7379Z" fill="#98C939" />
                        <path d="M79.7773 17.6413C79.7773 17.6413 87.9584 20.9323 92.4722 18.8364C92.4722 18.8364 84.9732 18.8679 82.3302 15.6445L79.7773 17.6413Z" fill="#98C939" />
                        <path d="M86.125 12.6461C86.125 12.6461 86.885 5.84766 89.9763 3.53516C89.9763 3.53516 87.1976 8.64593 88.4274 11.6364L86.125 12.6461Z" fill="#98C939" />
                        <path d="M86.4688 13.045C86.4688 13.045 92.8153 15.5981 96.3167 13.9723C96.3167 13.9723 90.4994 13.9967 88.449 11.4961L86.4688 13.045Z" fill="#98C939" />
                        <path d="M93.1133 9.90976C93.1133 9.90976 93.6619 5.00161 95.8937 3.33203C95.8937 3.33203 93.8875 7.02179 94.7756 9.18075L93.1133 9.90976Z" fill="#98C939" />
                        <path d="M93.3672 10.1962C93.3672 10.1962 97.9489 12.0394 100.477 10.8657C100.477 10.8657 96.2772 10.8833 94.7969 9.07812L93.3672 10.1962Z" fill="#98C939" />
                        <path d="M99.3082 7.79521C89.238 11.9473 73.0459 22.0692 67.3497 27.1065C67.0671 26.6255 66.8076 26.1328 66.5656 25.6315C66.5015 25.5005 66.4403 25.3663 66.3789 25.235C68.8566 22.7689 86.1222 11.2584 98.967 7.02268C99.4537 6.86213 99.7821 7.59984 99.3082 7.79521Z" fill="#8BBC4A" />
                    </g>

                    {/* Extra Leaves - Stage 3 */}
                    {/* Taller Plant - Stage 3 */}
                    <g style={{
                        opacity: getTallerPlantOpacity(),
                        transition: 'opacity 0.5s ease-in-out, transform 0.5s ease-in-out',
                        transformOrigin: 'center bottom',
                        transform: `scale(${getTallerPlantScale()})`
                    }}>
                        {/* Extended Stem */}
                        <path d="M56.2157 85.2183C55.6523 85.2183 55.1953 84.7613 55.1953 84.198V20.6086C55.1953 7.6802 62.3323 -5.0347 73.8206 -10.9644C74.3218 -11.2226 74.9367 -11.0263 75.1952 -10.5258C75.4537 -10.025 75.2573 -9.4097 74.7566 -9.1512C63.9494 -3.5733 57.2358 7.4467 57.2358 19.6084V84.1982C57.236 84.7616 56.7791 85.2183 56.2157 85.2183Z" fill="#8BBC4A" />
                        <path d="M56.2186 63.9686C55.6553 63.9686 55.1983 63.5116 55.1983 62.9482C55.1983 50.7865 48.4847 39.7663 37.6775 34.1887C37.1767 33.9302 36.9804 33.3148 37.2389 32.8141C37.4974 32.3136 38.1122 32.1172 38.6135 32.3755C50.1018 38.3052 57.2388 50.0198 57.2388 62.9484C57.239 63.5118 56.782 63.9686 56.2186 63.9686Z" fill="#8BBC4A" />

                        {/* Added curved stem for left leaf */}
                        <path d="M56.2 50C55.5 50 49 46 43 38C37 30 37 20 42.3014 -2.0236" fill="none" stroke="#8BBC4A" stroke-width="2.2" />

                        {/* Additional Left Leaf (moved higher up) */}
                        <g transform="translate(0, -20)">
                            <path d="M2.53906 -3.8753C13.1194 4.6801 11.4208 14.6656 22.9829 24.3412C29.9054 30.137 38.586 28.51 43.9199 21.2269C44.6709 20.2015 45.3206 19.1141 45.8642 17.9796C46.1601 17.3681 46.4259 16.7443 46.6558 16.1118C49.0389 9.5892 48.0033 2.1565 42.3014 -2.0236C27.2909 -13.0189 2.53906 -3.8753 2.53906 -3.8753Z" fill="#9CD83D" />
                            <path d="M42.8678 16.2619C42.8678 16.2619 44.3314 7.566 41.3182 3.6055C41.3182 3.6055 42.9542 10.9238 40.3711 14.1955L42.8678 16.2619Z" fill="#98C939" />
                            <path d="M38.3354 12.2192C38.3354 12.2192 39.0357 3.4288 35.6883 -0.2539C35.6883 -0.2539 37.9558 6.894 35.668 10.3784L38.3354 12.2192Z" fill="#98C939" />
                            <path d="M33.1014 9.4831C33.1014 9.4831 32.1217 0.7196 28.1367 -2.2617C28.1367 -2.2617 31.7189 4.3264 30.1332 8.1815L33.1014 9.4831Z" fill="#98C939" />
                            <path d="M42.7853 16.2308C42.7853 16.2308 35.8219 21.6414 30.9062 20.8653C30.9062 20.8653 38.1257 18.8369 39.7822 15.0117L42.7853 16.2308Z" fill="#98C939" />
                            <path d="M38.1439 13.0855C38.1439 13.0855 30.7356 17.8687 25.9062 16.667C25.9062 16.667 33.2749 15.2757 35.2588 11.6094L38.1439 13.0855Z" fill="#98C939" />
                            <path d="M32.6558 9.9889C32.6558 9.9889 24.4747 13.28 19.9609 11.1841C19.9609 11.1841 27.4599 11.2155 30.1029 7.9922L32.6558 9.9889Z" fill="#98C939" />
                            <path d="M26.3083 4.9938C26.3083 4.9938 25.5483 -1.8047 22.457 -4.1172C22.457 -4.1172 25.2357 0.9936 24.0057 3.9841L26.3083 4.9938Z" fill="#98C939" />
                            <path d="M25.9613 5.3927C25.9613 5.3927 19.6147 7.9458 16.1133 6.3199C16.1133 6.3199 21.9306 6.3444 23.981 3.8438L25.9613 5.3927Z" fill="#98C939" />
                            <path d="M19.3194 2.2574C19.3194 2.2574 18.7708 -2.6507 16.5391 -4.3203C16.5391 -4.3203 18.5452 -0.6306 17.6571 1.5284L19.3194 2.2574Z" fill="#98C939" />
                            <path d="M19.0667 2.5438C19.0667 2.5438 14.485 4.387 11.957 3.2134C11.957 3.2134 16.1567 3.231 17.637 1.4258L19.0667 2.5438Z" fill="#98C939" />
                            <path d="M13.1211 0.1429C23.1913 4.2949 39.3834 14.4168 45.0796 19.4541C45.3622 18.9732 45.6217 18.4804 45.8637 17.9792C45.9278 17.8481 45.9889 17.7139 46.0504 17.5826C43.5727 15.1166 26.307 3.6061 13.4623 -0.6297C12.9755 -0.7902 12.6472 -0.0525 13.1211 0.1429Z" fill="#8BBC4A" />
                        </g>


                        {/* Additional Right Leaf (moved higher up) */}
                        <g transform="translate(0, -20)">
                            <path d="M109.893 -13.2229C99.3123 -4.6676 101.011 5.318 89.4489 14.9936C82.5264 20.7896 73.8458 19.1623 68.5116 11.8793C67.7606 10.8538 67.1109 9.7665 66.5673 8.632C66.2714 8.0205 66.0056 7.3967 65.7757 6.7641C63.3926 0.2415 64.4282 -7.1912 70.1301 -11.3713C85.1409 -22.3666 109.893 -13.2229 109.893 -13.2229Z" fill="#9CD83D" />
                            <path d="M69.5663 6.9142C69.5663 6.9142 68.1027 -1.7816 71.1162 -5.7422C71.1162 -5.7422 69.4802 1.5762 72.0633 4.8478L69.5663 6.9142Z" fill="#98C939" />
                            <path d="M74.0961 2.8716C74.0961 2.8716 73.3958 -5.9188 76.7432 -9.6016C76.7432 -9.6016 74.4757 -2.4537 76.7635 1.0308L74.0961 2.8716Z" fill="#98C939" />
                            <path d="M79.3281 0.1355C79.3281 0.1355 80.3079 -8.6281 84.2929 -11.6094C84.2929 -11.6094 80.7107 -5.0213 82.2964 -1.1661L79.3281 0.1355Z" fill="#98C939" />
                            <path d="M69.6484 6.8832C69.6484 6.8832 76.6118 12.2938 81.5275 11.5176C81.5275 11.5176 74.308 9.4892 72.6515 5.6641L69.6484 6.8832Z" fill="#98C939" />
                            <path d="M74.2852 3.7379C74.2852 3.7379 81.6934 8.521 86.5228 7.3193C86.5228 7.3193 79.1541 5.928 77.1702 2.2617L74.2852 3.7379Z" fill="#98C939" />
                            <path d="M79.7773 0.6413C79.7773 0.6413 87.9584 3.9323 92.4722 1.8364C92.4722 1.8364 84.9732 1.8679 82.3302 -1.3555L79.7773 0.6413Z" fill="#98C939" />
                            <path d="M86.125 -4.3539C86.125 -4.3539 86.885 -11.1523 89.9763 -13.4648C89.9763 -13.4648 87.1976 -8.3541 88.4274 -5.3636L86.125 -4.3539Z" fill="#98C939" />
                            <path d="M86.4688 -3.955C86.4688 -3.955 92.8153 -1.4019 96.3167 -3.0277C96.3167 -3.0277 90.4994 -3.0033 88.449 -5.5039L86.4688 -3.955Z" fill="#98C939" />
                            <path d="M93.1133 -7.0902C93.1133 -7.0902 93.6619 -11.9984 95.8937 -13.668C95.8937 -13.668 93.8875 -9.9782 94.7756 -7.8193L93.1133 -7.0902Z" fill="#98C939" />
                            <path d="M93.3672 -6.8038C93.3672 -6.8038 97.9489 -4.9606 100.477 -6.1343C100.477 -6.1343 96.2772 -6.1167 94.7969 -7.9219L93.3672 -6.8038Z" fill="#98C939" />
                            <path d="M99.3082 -9.2048C89.238 -5.0527 73.0459 5.0692 67.3497 10.1065C67.0671 9.6255 66.8076 9.1328 66.5656 8.6315C66.5015 8.5005 66.4403 8.3663 66.3789 8.235C68.8566 5.7689 86.1222 -5.7416 98.967 -9.9773C99.4537 -10.1379 99.7821 -9.4002 99.3082 -9.2048Z" fill="#8BBC4A" />
                        </g>
                        </g>
                </svg>
            </div>

            <div className="mt-6 text-center">
                <button
                    className="px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50"
                    onClick={handleClick}
                >
                    Reset Growth
                </button>
            </div>
        </div>
    );
};

export default GrowingPlant;